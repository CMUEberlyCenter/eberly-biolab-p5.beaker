!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["p5.beaker"]=t():e["p5.beaker"]=t()}(window,function(){return function(e){var t={};function r(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(o,i,function(t){return e[t]}.bind(null,i));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){"use strict";function o(e,t=0,r=0){this.execute_callback("Particle","pre",this),this.p=e,this.createSprite(t,r),this.cleanups={},this.execute_callback("Particle","post",this)}r.d(t,"a",function(){return o}),o.prototype.collider_offset_x=0,o.prototype.collider_offset_y=0,o.prototype.collider_radius=1,o.prototype.image_path=null,o.prototype.max_velocity=0,o.prototype.name="Particle",o.prototype.reacts_with={},o.prototype.callbacks={},o.prototype.register_callback=function(e,t,r){null==this.callbacks[e]&&(this.callbacks[e]={}),this.callbacks[e][t]=r},o.prototype.execute_callback=function(e,t,r){var o=this.callbacks[e];o&&"function"==typeof o[t]&&o[t](r)},o.prototype.preload=function(e){this.image=e.loadImage(this.image_path)},o.prototype.createSprite=function(e=0,t=0){var r=this.p;r&&(this.sprite=r.createSprite(e,t),null!=this.image&&this.sprite.addImage("default",this.image),this.sprite.setCollider("circle",this.collider_offset_x,this.collider_offset_y,this.collider_radius),this.sprite.velocity.x=this.randomVelocity(),this.sprite.velocity.y=this.randomVelocity(),this.sprite.particle=this)},o.prototype.randomVelocity=function(){return this.max_velocity-2*Math.random()*this.max_velocity},o.prototype.remove=function(){this.execute_callback("remove","pre",this);var e=this.cleanups;for(var t in Object.keys(e)){e[Object.keys(e)[t]](this)}this.sprite.remove(),delete this.sprite,this.execute_callback("remove","post",this)},o.prototype.update=function(){this.execute_callback("update","pre",this),this.execute_callback("update","post",this)}},function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return p});var o=r(0),i=r(2),a=r.n(i);function p(e,t=0,r=0){o.a.call(this,e),this.createSprite(t,r),this.proton={},this.proton.particle=null,this.proton.offset_x=10,this.proton.offset_y=-10,this.proton.restore_depth=null,this.proton.release_after_range=[0,5e3],this.proton.post_release_duration=750,this.proton.release_after=null}p.prototype=new o.a,p.prototype.collider_radius=16,p.prototype.image_path=a.a,p.prototype.max_velocity=.5,p.prototype.name="ConjugateBase",p.prototype.reacts_with={Proton:function(e,t){var r=e.particle,o=t.particle;o.base.particle||r.proton.particle||(p.prototype.execute_callback("reacts_with_proton","pre",r),r.proton.release_after=Date.now()+r.proton.release_after_range[0]+r.proton.release_after_range[1]*Math.random(),r.proton.particle=o,o.base.particle=r,r.proton.restore_depth=t.depth,t.depth=e.depth+.5,o.cleanups.ConjugateBase=function(e){var t=e.base.particle;t&&t.release_proton()},p.prototype.execute_callback("reacts_with_proton","post",r))}},p.prototype.remove=function(){this.execute_callback("remove","pre",this);var e=this.cleanups;for(var t in Object.keys(e)){e[Object.keys(e)[t]](this)}this.release_proton(),this.sprite.remove(),delete this.particle,this.execute_callback("remove","post",this)},p.prototype.update=function(){this.execute_callback("update","pre",this);var e=this.proton;if(e.release_after){var t=Date.now();if(t<e.release_after){var r=e.particle.sprite,o=this.sprite;r.position.x=o.position.x+this.proton.offset_x,r.position.y=o.position.y+this.proton.offset_y}else t<e.release_after+e.post_release_duration||this.release_proton()}this.execute_callback("update","post",this)},p.prototype.release_proton=function(){this.execute_callback("release_proton","pre",this);var e=this.proton;e.release_after&&(delete e.particle.cleanups.ConjugateBase,e.particle.sprite.depth=e.restore_depth,e.restore_depth=null,e.release_after=null,e.particle.base.particle=null,e.particle=null),this.execute_callback("release_proton","post",this)}},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAd0QAAHdEBudPgXQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAOVSURBVFiFrZbPa1xVFMe/98xLmIBGGKhdKF2U+oNkIcUyINF2nYVj3AXGlSlklY0YxK5m0240IoF0phMK/gOljQjZ2jYkkDAGwYhSdKGIRCxIkWTe/XGOm/fGO6/3zbwmc+Dw7rtc7vdzzrm/FAra+vr6WWZ+T0QuK6XOAzibOAAcAjhk5l+NMffjON5YXl7+q8i8atiAVqt1SSn1KYAagGjYeGMMtNZWa73R7XZvNBqN704EsLq6Olkul78QkQ+LgKbmnIPWOnXudru3oyj6uNFoPCkM0G63p0XkHoALRYVTExHEcexDII7jR8aYuZWVlR+z4ynb0Ww2qyLy4CTiAKCU6vOk7xUAD5eWlqoDAdrt9jQRbQKonEQ8C5FpVwBsLi4uTgUB1tbWnhORO6cVH2IVEdmo1+uTTwGMjY19CeC1USmJSLAN4ML4+PhnfQCtVutSstpHIpwK5rWZ+er8/PzFHkCyzwtvtSIAzNxrZz3RvQYAqtlsvkhEf6DAIVPErLXZLdj37/VZrfVLRERzoxJPI/fdjzzTF4nIuyQil0chDgDMDOdcz/NgvP8rpJQ60YGTNRGBtbZP3IfxgVII59w0ATgzCgBfPC8Lgf5zhP+v1FOJ+x4CCZWEmSdPtfjStOe5c25oZshae5g5qQoZM8MY0+d5ECHxpP0k0loflkql86VSCUQEoqcuyL6Is/VMRfIAQtnwvr9FxphfmPkt51wPwL9O/aM0b0E9C4TvIvJDFMfxgyiKPkjFfYC86POykAoVzYYx5n50dHR0r1wu3ySiyAcA0PuGTrO8LDwDhFVKfVPa2to6mpmZeYOZp/xJQweJL5CNJuRZiAzgnZ2dna8iANBa3yCi94mIss8pvwSDyhDKQhbCazMzXweAEgBsb2//Wa1WX2bmN/2J02/RiPNSH4C4tbu7exvwbsE4jj8ioneI6HW//tkMhNbBoAUZgHiklPoknbdPJXkwPlRKVYoChNbKAIjHzrm3O53OT0EAAFhYWKiKyCaAir8L/K04KAv+fs8APBaR2b29vT1fL/gMq9frU0qpuwBeDWVgWBkCWfiZmef8yAcCAECtVnt+YmLicxG5CoAGAQzYsuycax8fHy8fHBz8G9IZ+hCt1WoXlVLXAMwlz6ihZXDOWWvtXWvt9f39/e8HzV/4JTw7O3tGRGrOuSsiMg3gHDO/kAD8Y639XUQOmPlba+3XnU7n7yLz/gfK4r22wg7QwAAAAABJRU5ErkJggg=="}])});